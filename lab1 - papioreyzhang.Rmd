---
title: "585 Lab 1"
author: "Joe Papio, Katie Rey, and Yue Zhang"
date: "January 19, 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(reshape2)


```

## Lab1

The following function takes a 6 digit station ID and concatenates it into a file name.

```{r blah}

tmax <- function(statNumb){
  ##for a given 6-digit station ID, reads in that file
 file <- paste("USH00", statNumb, ".raw.tmax", sep="" )
  station <- read_fwf(file,
  col_positions = fwf_positions(
    start=c( 1,13, rep(16+9*0:11, each=4) + c(1,7,8,9)), 
    end  =c(11,16, rep(16+9*0:11, each=4) + c(6,7,8,9))))
  
  ##gives human friendly names to variables
names(station) <- c("Station", "Year", 
  paste0(rep(c("Value","DMflag", "QCflag", "DSflag"), 12), 
         rep(1:12, each=4)))

##remove missing values, gather data 
test  <- station %>% 
  gather(key="Month", value="Temp_Max", starts_with("Value"))
test$Month <- as.numeric(gsub("Value", "", test$Month))
test$Temp_Max <- replace(test$Temp_Max, 
                              test$Temp_Max == -9999, NA)

test
}



trial %>% ggplot(aes(x = Year, Temp_Max/100)) + 
  geom_point() + facet_wrap(~Month, nrow=2) 

trial %>% 

```

